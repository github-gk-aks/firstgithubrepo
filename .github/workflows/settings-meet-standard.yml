name: General Settings Meet Standard

on:
  push
  #workflow_dispatch:
    # inputs:
    #   param1:
    #     description: 'Parameter 1'
    #     required: true
    #   param2:
    #     description: 'Parameter 2'
    #     required: true

jobs:
  setting-meet-standard:
    runs-on: ubuntu-latest

    steps:
      - name: Enable Issues for Repository
        uses: actions/github-script@v6
        with:
          github-token: ${{ secrets.GK_PAT}}
          script: |
            await github.rest.repos.update({
              owner: '${{ github.repository_owner }}',
              repo: '${{ github.event.repository.name }}',
              has_issues: true,
              has_wiki: false,
              has_projects: false,
              allow_merge_commit: true,
              allow_squash_merge: true,
              allow_rebase_merge: true,
              allow_auto_merge: false,
              delete_branch_on_merge: true,
              allow_forking: false
            });

    #   - name: Disable Wiki
    #     uses: actions/github-script@v6
    #     with:
    #       github-token: ${{ secrets.GK_PAT }}
    #       script: |
    #         await github.rest.repos.update({
    #           owner: '${{ github.repository_owner }}',
    #           repo: '${{ github.event.repository.name }}',
    #           has_wiki: false
    #         });
